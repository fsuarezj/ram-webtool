<?xml version="1.0"?>

<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:aui="http://liferay.com/faces/aui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html" 
    xmlns:ui="http://java.sun.com/jsf/facelets">
    
    <h:head />
    <h:body>
	    <h:message globalOnly="true" layout="table" />
	    <h:form id="toolInstanceForm">
	    <c:choose>
	    	<c:when test="#{toolSession.configuringInstance}">
	    		<h3><h:outputText value="#{i18n['new-ram']}" /></h3>
	    		<ui:include src="/views/editInstanceForm.xhtml" />
	    	</c:when>
	    	<c:otherwise>
    			<h:outputLabel class="instance-name"><h:outputText value="#{i18n['ram-name']}: #{toolSession.selectedToolInstance.name}" /></h:outputLabel>
	    		<h:outputLabel id="toolInstanceContent">
	    			<c:choose>
	    				<c:when test="#{instanceBacking.getStep() == 1}">
	    					<ui:include src="/views/ramSteps/ramStep1.xhtml" />
	    				</c:when>
	    				<c:when test="#{instanceBacking.getStep() == 2}">
	    					<ui:include src="/views/ramSteps/ramStep2.xhtml" />
	    				</c:when>
	    				<c:when test="#{instanceBacking.getStep() == 3}">
	    					<ui:include src="/views/ramSteps/ramStep3.xhtml" />
	    				</c:when>
	    				<c:when test="#{instanceBacking.getStep() == 4}">
	    					<ui:include src="/views/ramSteps/ramStep4.xhtml" />
	    				</c:when>
	    				<c:when test="#{instanceBacking.getStep() == 5}">
	    					<ui:include src="/views/ramSteps/ramStep5.xhtml" />
	    				</c:when>
	    			</c:choose>
				</h:outputLabel>
	    		<h:commandButton id="stepForwardButton" action="#{instanceBacking.stepForward}" value="#{i18n['step-forward']}">
	    			<f:ajax render="toolInstanceContent" />
	    		</h:commandButton>
	    	</c:otherwise>
	    </c:choose>
	    	<h:commandButton id="cancelToolInstanceButton" action="#{toolSession.cancelToolInstance}" value="#{i18n['exit-ram']}">
	    		<f:ajax render="@all" />
	    	</h:commandButton>
	    	<h:commandButton id="deleteToolInstanceButton" action="#{toolSession.deleteToolInstance}" value="#{i18n['delete-ram']}">
	    		<f:ajax render="@all" />
	    	</h:commandButton>
	    </h:form>
	</h:body>
</f:view>